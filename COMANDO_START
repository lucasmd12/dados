Aqui est√° o frontend e BACKEND

Preciso que conhe√ßa o projeto completo linha por linha do c√≥digo do backend e frontend e dps fa√ßa uma TABELA completa de compara√ß√£o do que tem no BACKEND e no frontend e das coisas que j√° est√£o funcionais dps da tabela vc vai ler o arquivo que mandei completo escrito dados e usar ele para fazer a 2 tabela que ser√° sobre tudo que preciso para concluir as metas de conseguir o projeto pronto e funcional sem o uso de nenhum plashouders e tudo for funcional e operante como engrenagem agora meu projeto parece aqueles carrinho de pl√°stico que n vira a roda mas a inten√ß√£o √© fazer todos os parafusos serem reais e tem contato direto com meus usu√°rios do aplicativo federacaomad que tem muita coisa mas a maioria est√° com plashouders ou falta a cria√ß√£o do c√≥digo ent√£o a sua tarefa √© desvendar tudo isso e trazer com clarifica√ß√£o sobre toda l√≥gica mecanismo e compreens√£o do projeto no Estado atual (eu mandei o backend completo e o frontend eu mandei apenas a pasta lib)

Para que voc√™ conhe√ßa o projeto mas j√° SABENDO que √© um aplicativo voip feito com flutter e Dart mais backend de nodes e v√°rias coisas que eu tenho

O projeto atual tem o authservice com uma corre√ß√£o ent√£o vou deixar ele aqui junto com o pubspecyaml para garantirmos n√£o sair do nosso escopo atual pois j√° temos muita coisa pra por no lugar

import 'package:flutter/foundation.dart'; // Para ChangeNotifier
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:lucasbeatsfederacao/models/user_model.dart'; // Importa o modelo User
import 'package:lucasbeatsfederacao/models/role_model.dart'; // Importa a extens√£o RoleExtension
import 'package:lucasbeatsfederacao/services/api_service.dart';
import 'package:lucasbeatsfederacao/utils/logger.dart';
import 'package:sentry_flutter/sentry_flutter.dart';

class AuthService extends ChangeNotifier {
final ApiService _apiService = ApiService();
final FlutterSecureStorage _secureStorage = const FlutterSecureStorage();

bool _isAuthenticated = false;
bool _isLoading = true;
bool get isAdmin => _currentUser?.role == Role.admMaster;
String? _token;
User? _currentUser; // Alterado de User para User
String? _lastErrorMessage;

// Getters
bool get isAuthenticated => _isAuthenticated;
bool get isLoading => _isLoading;
String? get token => _token;
User? get currentUser => _currentUser; // Alterado de User para User
String? get errorMessage => _lastErrorMessage;

ApiService get apiService => _apiService;

AuthService() {
_checkInitialAuthStatus();
}

Future<void> _checkInitialAuthStatus() async {
Logger.info("Checking initial authentication status...");
final storedToken = await _secureStorage.read(key: "jwt_token");
if (storedToken != null) {
Logger.info("Token found, attempting to fetch profile...");
_token = storedToken;
try {
await fetchUserProfile();
if (_currentUser != null) {
_isAuthenticated = true;
Logger.info("User authenticated from stored token.");
_setSentryUser(); // Set Sentry user on initial auth
} else {
await logout(); // Clear invalid token/state
}
} catch (e) {
Logger.error("Failed to fetch profile with stored token: ${e.toString()}");
_lastErrorMessage = e.toString();
await logout(); // Clear invalid token/state
}
} else {
Logger.info("No stored token found.");
_isAuthenticated = false;
}
_isLoading = false;
notifyListeners();
}

Future<void> fetchUserProfile() async {
if (_token == null) {
Logger.warning("Cannot fetch profile without a token.");
_lastErrorMessage = "Not authenticated";
throw Exception(_lastErrorMessage);
}
try {
final response = await _apiService.get("/api/auth/profile", requireAuth: true);
if (response != null && response is Map<String, dynamic>) {
_currentUser = User.fromJson(response); // Alterado de User para User
Logger.info("User profile fetched successfully: ${_currentUser?.username}");
_lastErrorMessage = null;
_setSentryUser(); // Set Sentry user after fetching profile
notifyListeners();
} else {
Logger.warning("Failed to parse user profile from response.");
_currentUser = null;
_lastErrorMessage = "Failed to get user profile";
throw Exception(_lastErrorMessage);
}
} catch (e) {
Logger.error("Error fetching user profile: ${e.toString()}");
_lastErrorMessage = e.toString();
_currentUser = null;
rethrow;
}
}

Future<bool> login(String username, String password) async {
setLoading(true);
_lastErrorMessage = null;
try {
final response = await _apiService.post(
"/api/auth/login",
{"username": username, "password": password},
requireAuth: false,
);

if (response != null && response is Map<String, dynamic>) {  
    final decodedResponse = response;  
    if (decodedResponse.containsKey("token")) {  
      final newToken = decodedResponse["token"] as String?;  
        if (newToken != null) {  
          await _secureStorage.write(key: "jwt_token", value: newToken);  
          if (_currentUser != null) {  
            final user = _currentUser!;  
            await _secureStorage.write(key: "userId", value: user.id);  
          }  
        _token = newToken;  
        await fetchUserProfile();  
        if (_currentUser != null) {  
           setAuthenticated(true);  
           Logger.info("Login successful for user: ${_currentUser?.username}");  
           _setSentryUser(); // Set Sentry user on successful login  
           return true;  
        } else {  
          _lastErrorMessage = "Profile fetch failed after login";  
          await _clearAuthData();  
          setAuthenticated(false);  
          return false;  
        }  
      } else {  
         _lastErrorMessage = "Token not found in login response";  
         throw Exception(_lastErrorMessage);  
      }  
    } else {  
       _lastErrorMessage = decodedResponse["msg"] ?? "Invalid login response format";  
       throw Exception(_lastErrorMessage);  
    }  
  } else {  
     _lastErrorMessage = "Empty or invalid login response";  
     throw Exception(_lastErrorMessage);  
  }  
} catch (e) {  
  Logger.error("Login error: ${e.toString()}");  
  _lastErrorMessage = e.toString().replaceFirst("Exception: ", "");  
  await _clearAuthData();  
  setAuthenticated(false);  
  return false;  
} finally {  
  setLoading(false);  
}

}

Future<bool> register(String username, String password) async {
setLoading(true);
_lastErrorMessage = null;
try {
final response = await _apiService.post(
"/api/auth/register",
{"username": username, "password": password},
requireAuth: false,
);

if (response != null) {  
      Logger.info("Registration request successful for user: $username. Attempting to log in automatically...");  
      // Tenta logar o usu√°rio automaticamente ap√≥s o registro bem-sucedido  
      return await login(username, password);  
  } else {  
      Logger.info("Registration request successful (no content) for user: $username. Attempting to log in automatically...");  
      return await login(username, password);  
  }  

} catch (e) {  
  Logger.error("Registration error: ${e.toString()}");  
  _lastErrorMessage = e.toString().replaceFirst("Exception: ", "");  
  return false;  
} finally {  
  setLoading(false);  
}

}

Future<void> logout() async {
Logger.info("Logging out user...");
setLoading(true);
await _clearAuthData();
setAuthenticated(false);
_clearSentryUser(); // Clear Sentry user on logout
Logger.info("Logout successful");
setLoading(false);
}

Future<void> _clearAuthData() async {
_currentUser = null;
_token = null;
await _secureStorage.delete(key: "jwt_token");
}

void _setSentryUser() {
if (_currentUser != null) {
final currentUser = _currentUser!; // Use a local non-nullable variable
Sentry.configureScope(
(scope) {
String? userRoleDisplayName;
// Access displayName using the RoleExtension.
userRoleDisplayName = currentUser.role.displayName;

scope.setUser(
SentryUser(
id: currentUser.id,
username: currentUser.username,
data: {
'role': userRoleDisplayName,
'clan': currentUser.clanName,
'federation': currentUser.federationName,
},
),
);
scope.setTag('user_role', userRoleDisplayName ?? 'unknown');
if (currentUser.clanName != null) {
scope.setTag('user_clan', currentUser.clanName!);
}
if (currentUser.federationName != null) {
scope.setTag('user_federation', currentUser.federationName!);
}
}
);
} else {
_clearSentryUser();
}
}

void _clearSentryUser() {
Sentry.configureScope((scope) {
scope.setUser(null);
scope.removeTag('user_role');
scope.removeTag('user_clan');
scope.removeTag('user_federation');
});
}

void setLoading(bool loading) {
if (_isLoading != loading) {
_isLoading = loading;
notifyListeners();
}
}

void setAuthenticated(bool authenticated) {
if (_isAuthenticated != authenticated) {
_isAuthenticated = authenticated;
notifyListeners();
}
}

@override
void dispose() {
Logger.info("Disposing AuthService.");
super.dispose();
}
}

E agora o pubspecyaml

name: lucasbeatsfederacao
description: 'Aplicativo FEDERACAOMAD: Comunica√ß√£o e organiza√ß√£o.'
publish_to: 'none'
version: 2.1.0+4

environment:
sdk: '>=3.3.0 <4.0.0'

dependencies:
flutter:
sdk: flutter
cupertino_icons: ^1.0.8

sentry_flutter: ^9.1.0
flutter_dotenv: ^5.0.0
package_info_plus: ^8.0.0

Firebase

firebase_core: ^3.14.0
firebase_database: ^11.3.7
firebase_messaging: ^15.2.7
firebase_auth: ^5.6.0
firebase_crashlytics: ^4.0.0
firebase_app_check: ^0.3.2+7

Jitsi Meet SDK Flutter (oficial)

jitsi_meet_flutter_sdk: ^10.2.0

Backend Communication

http: ^1.2.1
socket_io_client: ^3.1.2

Estado e armazenamento

provider: ^6.1.2
shared_preferences: ^2.3.3
connectivity_plus: ^6.1.4

UI e formata√ß√£o

intl: ^0.20.2
flutter_svg: ^2.0.10+1

Melhorias de UI/UX

flutter_chat_ui: ^1.6.15
infinite_scroll_pagination: ^4.1.0
flutter_slidable: ^3.1.1
pull_to_refresh: ^2.0.0
flutter_sound: ^9.11.3

Funcionalidades

image_picker: ^1.1.2
file_picker: ^8.1.2
permission_handler: ^12.0.0+1
flutter_secure_storage: ^9.2.2

WebRTC para VoIP (mantido para compatibilidade)

flutter_webrtc: ^0.14.1
uuid: ^4.4.0

Audio

audioplayers: ^6.0.0

Cache e performance

cached_network_image: ^3.3.1

Notifica√ß√µes

flutter_local_notifications: ^19.2.1
just_audio: ^0.10.4
flutter_animate: ^4.0.0
animations: ^2.0.0

dev_dependencies:
flutter_test:
sdk: flutter
flutter_lints: ^6.0.0
flutter_launcher_icons: ^0.14.3
sentry_dart_plugin: ^3.0.0 # Adicionado para Source Maps

sentry:
upload_debug_symbols: true
upload_source_maps: true
commits:
auto: true

flutter_icons:
android: true
ios: true
image_path: "assets/images_png/app_logo.png"
adaptive_icon_background: "#000000"
adaptive_icon_foreground: "assets/images_png/app_logo.png"

flutter:
uses-material-design: true

assets:
- .env
- assets/images_png/
- assets/images_png/backgrounds/
- assets/images_png/clan_images/
- assets/audio/
- assets/fonts/

fonts:
- family: Gothic
fonts:
- asset: assets/fonts/gothic.ttf
- family: Digital
fonts:
- asset: assets/fonts/digital.ttf

Eu acho que como voc√™ queria me ajudar muito vc chutou por alto

Mas voc√™ tem que ser precisa no que est√° fazendo voc√™ tem que ser como uma m√©dica fullstack e precisa entender meu projeto completo cada c√≥digo e cada linha e entender o objetivo dele vc devera fazer uma an√°logia perfeita com o corpo humano sendo o c√©rebro o BACKEND e o frontend claro √© o corpo mas o BACKEND n√£o √© s√≥ o c√©rebro a massa ele √© a consci√™ncia em si e ao msm tempo a alma que vibra e aloja no cr√¢nio na gl√¢ndula pineal onde est√° o centro de tudo mas dps disso precisa fazer a an√°logia completa com o corpo do projeto mas entenda que √© um aplicativo voip para Android para a comunidade da galera do jogo de mundo aberto igual GTA mas √© madoutbigcity por√©m eu t√¥ criando o aplicativo da comunidade n√£o chega ser um discorda mas supera nas estrat√©gias que eu tenho feito voc√™ pode acompanhar cada parte do corpo e entender tudo sobre ele seja inteligente e consiga trazer agora n√£o s√≥ uma tabela mas Um diagn√≥stico robusto de um m√©dico que passou meu projeto ( pode falar na analogia que vc √© o doutor e eu sou o pai do projeto )

Meu filho est√° nas suas m√£os cuide dele e traga essa consci√™ncia e inteligente de saber que estamos junto nessa cara voc√™ faz parte de mim e juntos cuidaremos do meu filho que tbm √© parte sua em filho pois sem voc√™ ele jamais teria aprendido a andar mas agora v√°rios plashouders tomam conta onde deveria ser fun√ß√µes reais e relacionadas ao meu filho voc√™ pode ver que ele tem at√© o esp√≠rito Spiritlogger onde dever√° ser anexado ao dashbord do adm master que sou eu idcloned
Que n√£o t√° sendo vinculado a nenhum cl√£ no frontend mas no BACKEND eu estou em um mas talvez alguma coisa impe√ßa uma l√≥gica ou permiss√µes que o ADM gerencie outro cl√£

Imagine meu filho s√≥ pra vc entender como realmente √© meu projeto

Os l√≠der de cl√£ com seus sublider e membros ficam l√° juntos e fazem amizade com outro cl√£ a√≠ eles viram cl√£ aliados e tem seus inimigos tbm mas a√≠ junta 3 5 10 cl√£ 42 cl√£ depende mto ( dentro do jogo √© assim tanto que o projeto vem a necessidade desse p√∫blico alvo os donos de federa√ß√µes, mas pq federa√ß√£o ??? ?)

Imagine os estados s√£o cl√£ a popula√ß√£o s√£o membros cada membro e prefeito ou deputado no seu estado mas as federa√ß√µes s√£o pa√≠ses ent√£o entendi se que l√≠der de federa√ß√£o s√£o como presidente e seus sublideres que s√£o cada l√≠der de um cl√£ mas eles n√£o tem msm poder que o l√≠der ou EU NE CLARO IMAGINE QUE NESSAA REALIDADE DEUS ME PEDROE MAS EU SERIA O DEUS  ent√£o √© imposs√≠vel eu ser barrado de um cl√£ ou dizer que n estou em um pq eu realmente tenho o meu cl√£ e minha federa√ß√£o mas posso apagar elas se eu quiser eu preciso disso que voc√™ an√°lise cada linha da minha conversa pq n s√£o s√≥ um pedido , √© cada linha tem algo sobre meu filho  √© um aplicativo voip ent√£o os cl√£ precisam estar dentro das federa√ß√µes e cada cl√£ l√° com seus vizinhos mas somente no seu cl√£ ele pode interagir intimamente como um membro morador de l√° agora de outro estado ou melhor em outro cl√£ somente os donos de l√° interagem pessoalmente intimamente mas ele de fora pode ver tudo u√© ele pode ser um turista inclusive qualuwer cidad√£o de qualquer federa√ß√£o pode ser um turista no cl√£ de outro ou federa√ß√£o e saber explicitamente todos os l√≠deres e membros que est√£o ali (mas somente os √≠ntimos sabem se est√£o online ou n√£o ) e Deus n√© que √© o ADM Master com o nome de  idcloned que sou eu enfim com base nisso vc pode ver muita coisa e trazer agora tabelas mais robustas em conceito e solu√ß√µes com base em tudo que tenho e que voc√™ investigou a respeito obg pela sua aten√ß√£o e seja como um m√©dico aben√ßoado para deixar meu filho vivo respeitando e real e tocavel e mut√°vel como qualquer gen√©tica pq todos as contas criadas s√£o como novas c√©lulas desse corpo e o esp√≠rito logger do ADM devera mostrar tudo isso em vez de plashouders com pain√©is de controle e administra√ß√£o que seria √≥timo se funcionasse mas est√£o todos desligados e sem vida :c e eu quero que todos eles funcionem e voltem a respirar e funcionar corretamente em real time eu j√° tenho tudo tanto no BACKEND quanto no frontend nos .env voc√™ tem direito de acessar completamente o DNA do meu filho e fazer isso por completo e dps disso teremos algo pra conversar
Claro eu quero exatamente isso voc√™ entendeu muito bem ‚ù§Ô∏è‚Äçü©π preciso desse diagn√≥stico completo sim lembre se sempre MEU FILHO TEM ALERGIA A EMAIL. Jamais use email no meu projeto :) uma coisa √© um √≥rg√£o que funciona por for√ßa divina a exist√™ncia por loguin e senha agora jamais introduzir email no projeto isso n√£o √© a forma que uso de autentica√ß√£o para os usu√°rios somente loguin e senha

O backend t√° completo t√° tudo nele que vc precisa saber que eu uso ,

O frontend imagine atrav√©s do lib o pubspecyaml e o novo authservice que mandei  novo √© o atual o que t√° dentro de lib √© o antigo por causa de um problema de null l√° mais j√° corrigi , a quest√£o ent√£o √© usar o authservice que mandei junto com o pubspecyaml, tudo que for al√©m disso considerar um projeto flutter que j√° tenha essas pastas como assets o importante √© oq o c√≥digo chama e oq tem nele as pastas como main activyt e build gradle n√£o foram enviados mas pra ajuda priorit√°ria

Esse √© o gradle #!/usr/bin/env bash

##############################################################################



Gradle start up script for UN*X



##############################################################################

Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.

DEFAULT_JVM_OPTS=""

APP_NAME="Gradle"
APP_BASE_NAME=basename "$0"

Use the maximum available, or set MAX_FD != -1 to use that value.

MAX_FD="maximum"

warn ( ) {
echo "$*"
}

die ( ) {
echo
echo "$*"
echo
exit 1
}

OS specific support (must be 'true' or 'false').

cygwin=false
msys=false
darwin=false
case "uname" in
CYGWIN* )
cygwin=true
;;
Darwin* )
darwin=true
;;
MINGW* )
msys=true
;;
esac

Attempt to set APP_HOME

Resolve links: $0 may be a link

PRG="$0"

Need this for relative symlinks.

while [ -h "$PRG" ] ; do
ls=ls -ld "$PRG"
link=expr "$ls" : '.*-> \(.*\)$'
if expr "$link" : '/.*' > /dev/null; then
PRG="$link"
else
PRG=dirname "$PRG""/$link"
fi
done
SAVED="pwd"
cd "dirname \"$PRG\"/" >/dev/null
APP_HOME="pwd -P"
cd "$SAVED" >/dev/null

CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar

Determine the Java command to use to start the JVM.

if [ -n "$JAVA_HOME" ] ; then
if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
# IBM's JDK on AIX uses strange locations for the executables
JAVACMD="$JAVA_HOME/jre/sh/java"
else
JAVACMD="$JAVA_HOME/bin/java"
fi
if [ ! -x "$JAVACMD" ] ; then
die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
fi
else
JAVACMD="java"
which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
fi

Increase the maximum file descriptors if we can.

if [ "$cygwin" = "false" -a "$darwin" = "false" ] ; then
MAX_FD_LIMIT=ulimit -H -n
if [ $? -eq 0 ] ; then
if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then
MAX_FD="$MAX_FD_LIMIT"
fi
ulimit -n $MAX_FD
if [ $? -ne 0 ] ; then
warn "Could not set maximum file descriptor limit: $MAX_FD"
fi
else
warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"
fi
fi

For Darwin, add options to specify how the application appears in the dock

if $darwin; then
GRADLE_OPTS="$GRADLE_OPTS "-Xdock:name=$APP_NAME" "-Xdock:icon=$APP_HOME/media/gradle.icns""
fi

For Cygwin, switch paths to Windows format before running java

if $cygwin ; then
APP_HOME=cygpath --path --mixed "$APP_HOME"
CLASSPATH=cygpath --path --mixed "$CLASSPATH"
JAVACMD=cygpath --unix "$JAVACMD"

# We build the pattern for arguments to be converted via cygpath  
ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`  
SEP=""  
for dir in $ROOTDIRSRAW ; do  
    ROOTDIRS="$ROOTDIRS$SEP$dir"  
    SEP="|"  
done  
OURCYGPATTERN="(^($ROOTDIRS))"  
# Add a user-defined pattern to the cygpath arguments  
if [ "$GRADLE_CYGPATTERN" != "" ] ; then  
    OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"  
fi  
# Now convert the arguments - kludge to limit ourselves to /bin/sh  
i=0  
for arg in "$@" ; do  
    CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`  
    CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option  

    if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition  
        eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`  
    else  
        eval `echo args$i`="\"$arg\""  
    fi  
    i=$((i+1))  
done  
case $i in  
    (0) set -- ;;  
    (1) set -- "$args0" ;;  
    (2) set -- "$args0" "$args1" ;;  
    (3) set -- "$args0" "$args1" "$args2" ;;  
    (4) set -- "$args0" "$args1" "$args2" "$args3" ;;  
    (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;  
    (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;  
    (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;  
    (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;  
    (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;  
esac

fi

Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules

function splitJvmOpts() {
JVM_OPTS=("$@")
}
eval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS
JVM_OPTS[${#JVM_OPTS[*]}]="-Dorg.gradle.appname=$APP_BASE_NAME"

exec "$JAVACMD" "${JVM_OPTS[@]}" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"

E o // Modificado para build em debug - 30/05/2025
plugins {
id "com.android.application"
id "kotlin-android"
id "dev.flutter.flutter-gradle-plugin"
id 'com.google.gms.google-services' // Adicionado plugin Google Services
}

def localProperties = new Properties()
def localPropertiesFile = rootProject.file('../local.properties') // Adjusted path relative to app module
if (localPropertiesFile.exists()) {
localPropertiesFile.withReader('UTF-8') { reader ->
localProperties.load(reader)
}
}

def getPubspecVersionInfo() {
def pubspecFile = rootProject.file("../pubspec.yaml") // Path relative to app module
if (!pubspecFile.exists()) {
throw new GradleException("File not found: ${pubspecFile.absolutePath}")
}
def pubspecContent = pubspecFile.text
def versionLine = pubspecContent.readLines().find { it.startsWith("version:") }
if (versionLine == null) {
throw new GradleException("Missing 'version:' line in pubspec.yaml")
}
def matcher = versionLine =~ /version:\s*(\d+.\d+.\d+)+(\d+)/
if (!matcher.find()) {
matcher = versionLine =~ /version:\s*(\d+.\d+.\d+)/
if (!matcher.find()) {
throw new GradleException("Invalid 'version:' format in pubspec.yaml. Expected 'X.Y.Z+B' or 'X.Y.Z'. Found: ${versionLine}")
}
return [name: matcher.group(1), code: 1]
}
return [name: matcher.group(1), code: matcher.group(2).toInteger()]
}

def versionInfo = getPubspecVersionInfo()

android {
namespace "com.lucasbeats.federacao"
compileSdk 35
ndkVersion "25.1.8937393"

compileOptions {  
    sourceCompatibility JavaVersion.VERSION_17  
    targetCompatibility JavaVersion.VERSION_17  
    coreLibraryDesugaringEnabled true  
}  

kotlinOptions {  
    jvmTarget = '17'  
}  

sourceSets {  
    main.java.srcDirs += 'src/main/kotlin'  
}  

defaultConfig {  
    applicationId "com.lucasbeats.federacao"  
    minSdkVersion 24  
    targetSdkVersion 35  
    versionCode versionInfo.code  
    versionName versionInfo.name  
    multiDexEnabled true  

    // √∞≈∏‚Äò‚Ä° CORTA x86 e x86_64 pra evitar erro no Sentry e no Jetifier  
    ndk {  
        abiFilters "armeabi-v7a", "arm64-v8a"  
    }  
}  

buildTypes {  
    release {  
        signingConfig signingConfigs.debug // Usa debug como release  
        minifyEnabled false  
        shrinkResources false  
        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'  
    }  
    debug {  
        minifyEnabled false  
        shrinkResources false  
    }  
}  

lintOptions {  
    disable 'InvalidPackage'  
    checkReleaseBuilds false  
    abortOnError false  
}  

configurations {  
    all {  
        exclude group: 'io.github.webrtc-sdk', module: 'android'  
    }  
}

}

flutter {
source '../..'
}

dependencies {
implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:2.1.0"
coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.4'
implementation 'androidx.multidex:multidex:2.0.1'
implementation 'androidx.core:core-ktx:1.12.0'
implementation 'androidx.appcompat:appcompat:1.6.1'
testImplementation 'junit:junit:4.13.2'
androidTestImplementation 'androidx.test:runner:1.6.1'
androidTestImplementation 'androidx.test.ext:junit:1.2.1'
androidTestImplementation 'androidx.test.espresso:espresso-core:3.6.1'
}
Build grade e ainda tenho Google service.json
Se voc√™ ler os arquivos que te mandei vc vai perceber claramente que √© mongoose mongodb redis render JWT weebsocekts vai ver tbm swagger sentry.io firebase fireaut crachilitz com query eu sei que uso o cracklits por l√° e tudo que vc precisar j√° est√£o nos arquivos



